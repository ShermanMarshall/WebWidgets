<!doctype html>
<html>
<head>
<title> Testing </title>
<meta http-equiv='content-type' content='text/html; charset=utf-8' />
<script src='../libs/require.js' data-main='config.js'></script>
</head>
<body>
	<div id='box'>
		<!-- form method='POST' enctype='multipart/form-data' id='named' action='https://wp5pd6pw89.execute-api.us-west-1.amazonaws.com/default' -->
			<input type='file' name='upload' id='getFile' />
			<!-- input type='file' name='other' id='getFile2' / -->
			<!-- input type='submit' name='submit' / -->
		<button id='send' > Send </button>
		<!-- script type='text/javascript' >
			var data = {};
			function readData(event) {
				var files = event.target.files;			
					var attr = $('#getFile').attr('name');
					attr = attr.substr(0, attr.length);
					alert(attr);
				if (files && (window.File && window.FileReader && window.FileList && window.Blob)) {
					for (var i=0, f; f=files[i]; i++) {
						var r = new FileReader();
						r.onload = (function(f) {
							return function(e) {
								var contents = e.target.result;
								/*
								alert('Data retreived:\n' + 'name: ' + f.name + '\n' +
									'type: ' + f.type + '\n' +
									'size: ' + f.size + ' bytes\n' +
									'data:\n ' + contents);
								*/
								data[f.name] = {
									'content': contents,
								};
							};
						}) (f);
						//r.readAsText(f);
						r.readAsBinaryString(f);
					}
				} else {
					alert('Failed to load file');
				}
			}
			document.getElementById('getFile').addEventListener('change', readData, false);

			document.getElementById('send').addEventListener('click', ()=> {
				HTTP.POST({
					url: 'https://9uxm4canbh.execute-api.us-west-1.amazonaws.com/default/RestTest',
					data: data,
					success: (content)=> {
						console.log(content);
					},
					error: (content)=> {
						console.log(content);
					}
				});		
			});
		</script -->
	</div>
</body>
</html>
